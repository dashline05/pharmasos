---
import Layout from "@/layouts/Base.astro";
import { useTranslations } from "@/i18n";
import type { Lang } from "@/i18n";
import { validLanguages, defaultLanguage } from '@/constants/languages';
import type { ValidLanguage } from '@/constants/languages';

const { lang } = Astro.params;
const currentLang = validLanguages.includes(lang as ValidLanguage) ? lang as ValidLanguage : defaultLanguage;

const translations = {
  title: {
    fr: "Contactez-Nous",
    en: "Contact Us",
    ar: "اتصل بنا"
  },
  subtitle: {
    fr: "Nous Sommes Là Pour Vous Aider",
    en: "We're Here to Help",
    ar: "نحن هنا لمساعدتك"
  },
  getInTouch: {
    fr: "Prenez Contact",
    en: "Get in Touch",
    ar: "تواصل معنا"
  },
  description: {
    fr: "Vous avez des questions sur la recherche d'une pharmacie de garde ? Besoin d'aide avec notre service ? Nous sommes là pour vous assister 24h/24.",
    en: "Do you have questions about finding an on-duty pharmacy? Need help with our service? We're here to assist you 24/7.",
    ar: "هل لديك أسئلة حول البحث عن صيدلية حراسة؟ تحتاج مساعدة مع خدمتنا؟ نحن هنا لمساعدتك على مدار الساعة."
  },
  email: "contact@pharmasos.com",
  phone: "+212 XXX-XXXXXX",
  socialMedia: {
    title: {
      fr: "Réseaux Sociaux",
      en: "Social Media",
      ar: "وسائل التواصل الاجتماعي"
    },
    followUs: {
      fr: "Suivez-nous sur les réseaux sociaux pour les mises à jour",
      en: "Follow us on social media for updates",
      ar: "تابعنا على وسائل التواصل الاجتماعي للحصول على التحديثات"
    }
  }
} as const;

const pageTitle = translations.title[currentLang];
---

<Layout 
  title={pageTitle}
  description={translations.subtitle[currentLang]}
  lang={currentLang}
  dir={currentLang === 'ar' ? 'rtl' : 'ltr'}
>
  <div class="page-container">
    <header class="header">
      <h1>{pageTitle}</h1>
      <p class="update-info">
        <span class="live-dot"></span>
        {translations.subtitle[currentLang]}
      </p>
    </header>

    <div class="intro-section">
      <h2>{translations.getInTouch[currentLang]}</h2>
      <p>{translations.description[currentLang]}</p>

      <div class="contact-methods">
        <div class="contact-card">
          <h3>Email</h3>
          <p>{translations.email}</p>
        </div>

        <div class="contact-card">
          <h3>{currentLang === 'fr' ? 'Téléphone' : currentLang === 'ar' ? 'الهاتف' : 'Phone'}</h3>
          <p>{translations.phone}</p>
        </div>

        <div class="contact-card social-card">
          <h3>{translations.socialMedia.title[currentLang]}</h3>
          <p>{translations.socialMedia.followUs[currentLang]}</p>
          <div class="social-links">
            <a href="https://x.com/pharmasosGO" target="_blank" rel="noopener noreferrer" class="social-link">
              <span class="icon">𝕏</span>
              <span class="label">X</span>
            </a>
            <a href="https://www.facebook.com/pharmasosGo" target="_blank" rel="noopener noreferrer" class="social-link">
              <span class="icon">
                <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                  <path d="M9.198 21.5h4v-8.01h3.604l.396-3.98h-4V7.5a1 1 0 0 1 1-1h3v-4h-3a5 5 0 0 0-5 5v2.01h-2l-.396 3.98h2.396v8.01Z" />
                </svg>
              </span>
              <span class="label">Facebook</span>
            </a>
            <a href="https://www.instagram.com/pharmasosGo" target="_blank" rel="noopener noreferrer" class="social-link">
              <span class="icon">
                <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                  <path d="M12 2c2.717 0 3.056.01 4.122.06 1.065.05 1.79.217 2.428.465.66.254 1.216.598 1.772 1.153a4.908 4.908 0 0 1 1.153 1.772c.247.637.415 1.363.465 2.428.047 1.066.06 1.405.06 4.122 0 2.717-.01 3.056-.06 4.122-.05 1.065-.218 1.79-.465 2.428a4.883 4.883 0 0 1-1.153 1.772 4.915 4.915 0 0 1-1.772 1.153c-.637.247-1.363.415-2.428.465-1.066.047-1.405.06-4.122.06-2.717 0-3.056-.01-4.122-.06-1.065-.05-1.79-.218-2.428-.465a4.89 4.89 0 0 1-1.772-1.153 4.904 4.904 0 0 1-1.153-1.772c-.248-.637-.415-1.363-.465-2.428C2.013 15.056 2 14.717 2 12c0-2.717.01-3.056.06-4.122.05-1.066.217-1.79.465-2.428a4.88 4.88 0 0 1 1.153-1.772A4.897 4.897 0 0 1 5.45 2.525c.638-.248 1.362-.415 2.428-.465C8.944 2.013 9.283 2 12 2zm0 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm6.5-.25a1.25 1.25 0 0 0-2.5 0 1.25 1.25 0 0 0 2.5 0zM12 9a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"/>
                </svg>
              </span>
              <span class="label">Instagram</span>
            </a>
            <a href="https://www.youtube.com/@PharmasosGo" target="_blank" rel="noopener noreferrer" class="social-link">
              <span class="icon">
                <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                  <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                </svg>
              </span>
              <span class="label">YouTube</span>
            </a>
            <a href="https://www.pinterest.com/pharmasos/" target="_blank" rel="noopener noreferrer" class="social-link">
              <span class="icon">
                <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                  <path d="M12 0C5.373 0 0 5.372 0 12c0 5.084 3.163 9.426 7.627 11.174-.105-.949-.2-2.405.042-3.441.218-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.568-.994 3.995-.283 1.194.599 2.169 1.777 2.169 2.133 0 3.772-2.249 3.772-5.495 0-2.873-2.064-4.882-5.012-4.882-3.414 0-5.418 2.561-5.418 5.207 0 1.031.397 2.138.893 2.738a.36.36 0 0 1 .083.345l-.333 1.36c-.053.22-.174.267-.402.161-1.499-.698-2.436-2.889-2.436-4.649 0-3.785 2.75-7.262 7.929-7.262 4.163 0 7.398 2.967 7.398 6.931 0 4.136-2.607 7.464-6.227 7.464-1.216 0-2.359-.631-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24 12 24c6.627 0 12-5.373 12-12 0-6.628-5.373-12-12-12z"/>
                </svg>
              </span>
              <span class="label">Pinterest</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</Layout>

<style>
  .page-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
  }

  .header {
    text-align: center;
    margin-bottom: 3rem;
  }

  h1 {
    font-size: 2.5rem;
    font-weight: 700;
    color: #ffffff;
    margin-bottom: 1rem;
  }

  .update-info {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    color: #ffffff;
  }

  .live-dot {
    width: 6px;
    height: 6px;
    background: #22c55e;
    border-radius: 50%;
    display: inline-block;
  }

  .contact-methods {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-top: 3rem;
  }

  .contact-card {
    background: #1a1a1a;
    border: 1px solid #333;
    border-radius: 1rem;
    padding: 2rem;
    transition: all 0.3s ease;
  }

  .social-card {
    grid-column: 1 / -1;
    background: linear-gradient(145deg, #111111, #1a1a1a);
    border: 1px solid #333333;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    padding: 2.5rem;
  }

  .social-links {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.25rem;
    margin-top: 2rem;
    max-width: 1200px;
    margin-inline: auto;
  }

  .social-link {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    color: #22c55e;
    text-decoration: none;
    font-size: 1rem;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    padding: 1rem 1.25rem;
    border-radius: 0.75rem;
    background: rgba(34, 197, 94, 0.1);
    border: 1px solid rgba(34, 197, 94, 0.2);
    backdrop-filter: blur(8px);
  }

  .social-link:hover {
    color: #ffffff;
    background: #22c55e;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(34, 197, 94, 0.25);
  }

  .social-link .icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    font-size: 1.5rem;
  }

  .social-link .icon svg {
    width: 24px;
    height: 24px;
  }

  @media (max-width: 768px) {
    .page-container {
      padding: 1rem;
    }

    .contact-methods {
      grid-template-columns: 1fr;
    }

    .social-card {
      padding: 1.5rem;
    }

    .social-links {
      grid-template-columns: 1fr;
      gap: 1rem;
    }
    
    .social-link {
      padding: 1rem;
      font-size: 0.9375rem;
    }

    .social-link .icon {
      width: 24px;
      height: 24px;
    }
  }

  @media (min-width: 769px) and (max-width: 1024px) {
    .social-links {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1025px) {
    .social-links {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  /* RTL Support */
  [dir="rtl"] .social-link {
    flex-direction: row-reverse;
  }

  [dir="rtl"] .update-info {
    flex-direction: row-reverse;
  }
</style> 